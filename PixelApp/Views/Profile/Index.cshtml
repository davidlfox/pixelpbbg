@model PixelApp.Views.Profile.Models.ProfileViewModel
@{
    ViewBag.Title = "Index";
}

<style type="text/css">
    .badge-container {
        display: inline;
        position: relative;
    }

    .game-badge {
        padding: 10px;
        margin-right: 15px;
        margin-bottom: 15px;
        border-radius: 10px;
        border: 3px solid #5a5;
    }

    .game-badge img {
        border-radius: 10px;
    }

    .game-badge.missing-badge {
        border: 3px dashed #ccc;
        opacity: 0.8;
    }

    .level-badge {
        position: absolute;
        bottom: -26px;
        right: 35px;
        font-weight: bold;
    }
</style>

<h3>Badges</h3>
<div class="row">
    <div class="col-xs-4 col-sm-8 col-md-12">
        @foreach (var type in Model.Badges.Select(x => x.BadgeType).Distinct())
        {
            foreach (var badge in Model.Badges.Where(x => x.BadgeType == type))
            {
                <div class="badge-container">
                    <img src="@badge.ImageUrl" alt="@badge.Name" data-toggle="tooltip"
                            class="game-badge @(badge.HasBadge ? string.Empty : "missing-badge")"
                            title="@string.Format("{0} ({1:n0})<br>{2}", badge.Name, badge.Level, badge.Description)" />
                    <span class="level-badge">@badge.Level</span>
                </div>
            }
        }
    </div>
</div>

@section scripts {
    <script type="text/javascript">
        $(function () {
            $('[data-toggle="tooltip"]').tooltip({ html: true });
        });
    </script>
}